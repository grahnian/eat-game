<html>
  <head>
		<script src="./eat-lyrics.js" type="text/javascript"></script>
		<script type="text/javascript">
			var pairwise = {};
			for (i = 0; i < lyrics.length; i++) {
				var lines = lyrics[i].lines;
				for (j = 0; j < lines.length; j++) {
					var words = lines[j].split(" ");
					
					for (k = 0; k < words.length - 1; k++) {
						var pair = words[k] + " " + words[k+1];
						if (pair in pairwise) {
							if (pairwise[pair].indexOf(lyrics[i].title) < 0) {
								pairwise[pair].push(lyrics[i].title);
							}
						}
						else {
							pairwise[pair] = [lyrics[i].title];
						}
					}
				}
			}
			
			var randomProperty = function (obj) {
			    var keys = Object.keys(obj)
			    return keys[ keys.length * Math.random() << 0];
			};
			var propertyValue = function (obj, key) {
			    return obj[keys[key]];
			};
			var prettyPrint = function (arr) {
				var string = "" + arr;
				return string.replace(/,/g, ", ");
			};
			var setText = function (id, text) {
				var y = document.getElementById(id);
				y.innerHTML = text;
			}
		</script>
	</head>
	<body>
		<script>
			var key = randomProperty(pairwise);
			var value = pairwise[key];
			var plural = value.length > 1 ? "s" : ""; 
		</script>
		<table align="center">
		<th>
			<h1>The Eagle and Talon 2-gram Game</h1>
		</th>
		<tr><td>
		In what song<script>document.write(plural)</script> did the phrase "<script>
			document.write(key);
		</script>" appear?</td></tr>
		<tr><td id="answer">
		<a onclick="setText('answer', 'A: ' + prettyPrint(value))" href="javascript:void(0)">Click here for the answer</a>
		</td></tr>
		<tr><td>(Reload for another round)</td></tr>
		</table>
	</body>
</html>
